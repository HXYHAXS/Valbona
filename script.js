const translations = {
  en: {
    siteTitle: 'BOOK SHOWCASE',
    portfolio: 'Portfolio',
    homepage: 'Homepage',
    heroTitle: 'Discover stories with style',
    heroSubtext: 'A modern book showcase for readers and creators. Explore, get inspired, and find your next favorite book.',
    aboutTitle: 'About Valbona Banka',
    about1: 'Valbona Banka is an acclaimed author whose literary journey began in the picturesque landscapes of her homeland. With a passion for storytelling that transcends cultural boundaries, she has crafted narratives that resonate with readers worldwide.',
    about2: 'Her writing style is characterized by its lyrical prose, deep emotional resonance, and ability to transport readers to worlds both familiar and fantastical. Through her works, Valbona explores themes of identity, belonging, and the human condition with sensitivity and insight.',
    about3: 'With over a decade of writing experience and multiple published works, Valbona has received numerous literary awards and recognition for her contributions to contemporary literature. Her books have been translated into several languages, reaching readers across different cultures and continents.',
    about4: 'When not crafting stories, Valbona can be found exploring new cultures, collecting stories from people she meets, or finding inspiration in the quiet moments of everyday life. She believes that every person has a story worth telling, and every story has the power to change lives.',
    featured: 'FEATURED BOOK',
    seeMore: 'See More Books',
    galleryTitle: 'Book Gallery',
    learnMore: 'Learn More',
    backToGallery: 'Back to Gallery',
    book1Title: 'Tekno-Broni',
    book1Author: 'by Valbona Banka',
    book1Desc: 'This novel is not just a clash between the new techno world (hence the title Tekno-Broni) and the old one, where everything was handmade, but shows children that while technology has many benefits, everything should be used in moderation, without losing touch with nature.',
    book2Title: 'Aria Hidh e Prit',
    book2Author: 'by Valbona Banka',
    book2Desc: 'This book is just the beginning of Aria’s mischievous journey, full of vitality and positive energy: A story about unconditional love that springs from every child’s heart! The strength within and the truth that breaks barriers and overcomes limits! At the end of the online voting process for the best book of 2022 by Bukinist.al and the Leximtari.al blog, in the “Children’s Book” category, the book “Aria, hidh e prit” by author Valbona Banka, published by “Mediaprint” and edited by Arta Marku, was selected.',
    book3Title: 'Aria Fet e fet',
    book3Author: 'by Valbona Banka',
    book3Desc: 'Let’s travel with Aria and the other characters, through unexpected situations and humor, to enjoy this experience.',
    book4Title: 'Aria Në dorën time',
    book4Author: 'by Valbona Banka',
    book4Desc: 'An epic adventure that takes readers on a journey across continents and through time. This historical fiction masterpiece brings the past to life with vivid detail.',
    book5Title: 'Yjet e Natës',
    book5Author: 'by Valbona Banka',
    book5Desc: 'A magical journey through the world of fantasy, where dreams and reality intertwine in incredible ways.',
    book6Title: 'Fjalët që Shërojnë',
    book6Author: 'by Valbona Banka',
    book6Desc: 'A collection of stories that touch the heart and inspire the soul, bringing hope and strength on every page.',
    book7Title: 'Rrugëtimi i Zemrës',
    book7Author: 'by Valbona Banka',
    book7Desc: 'An emotional novel about love, loss, and finding oneself through life’s challenges.',
  },
  sq: {
    siteTitle: 'EKSPozitË LIBRASH',
    portfolio: 'Portofol',
    homepage: 'Faqja Kryesore',
    heroTitle: 'Zbuloni histori me stil',
    heroSubtext: 'Një ekspozitë moderne librash për lexues dhe krijues. Eksploroni, frymëzohuni dhe gjeni librin tuaj të preferuar.',
    aboutTitle: 'Rreth Valbona Banka',
    about1: 'Valbona Banka është një autore e njohur, udhëtimi letrar i së cilës filloi në peizazhet piktoreske të vendlindjes. Me një pasion për tregimin që tejkalon kufijtë kulturorë, ajo ka krijuar rrëfime që prekin lexuesit në mbarë botën.',
    about2: 'Stili i saj i të shkruarit karakterizohet nga proza lirike, rezonanca e thellë emocionale dhe aftësia për të transportuar lexuesit në botë të njohura dhe fantastike. Përmes veprave të saj, Valbona eksploron tema të identitetit, përkatësisë dhe natyrës njerëzore me ndjeshmëri dhe thellësi.',
    about3: 'Me mbi një dekadë përvojë në shkrim dhe disa vepra të botuara, Valbona ka marrë çmime të shumta letrare dhe vlerësime për kontributin e saj në letërsinë bashkëkohore. Librat e saj janë përkthyer në disa gjuhë, duke arritur lexues në kultura dhe kontinente të ndryshme.',
    about4: 'Kur nuk shkruan, Valbona mund të gjendet duke eksploruar kultura të reja, duke mbledhur histori nga njerëzit që takon, ose duke gjetur frymëzim në momentet e qeta të jetës së përditshme. Ajo beson se çdo njeri ka një histori për të treguar, dhe çdo histori ka fuqinë të ndryshojë jetë.',
    featured: 'LIBRI I VECANTË',
    seeMore: 'Shiko më shumë libra',
    galleryTitle: 'Galeria e Librave',
    learnMore: 'Më shumë',
    backToGallery: 'Kthehu te Galeria',
    book1Title: 'Tekno-Broni',
    book1Author: 'nga Valbona Banka',
    book1Desc: 'Ky roman nuk është vetëm një përballje mes botës së re tekno (nga rrjedh dhe titulli Tekno-Broni) dhe asaj të vjetrës, ku çdo gjë bëhej me dorë, por u tregon fëmijëve se vërtet teknologjia ka shumë të mira, ama çdo gjë duhet përdorur me masë, pa harruar kontaktin me natyrën.',
    book2Title: 'Aria Hidh e Prit',
    book2Author: 'nga Valbona Banka',
    book2Desc: 'Ky libër është vetëm fillimi i rrugëtimit të Arias çamarroke, plot vitalitet dhe energji pozitive: Një histori për dashurinë pa kushte që buron në zemrën e çdo femije! Forcën brenda vetes dhe të vërtetën që thyen barriera dhe kapërcen kufijtë! Në mbyllje të procesit të votimit online për librin më të mirë të vitit 2022 nga Bukinist.al dhe blogu Leximtari.al, - në kategorinë “Libri për fëmijë”, është përzgjedhur libri “Aria, hidh e prit” me autore Valbona Banka, hedhur në qarkullim nga shtëpia botuese “Mediaprint”, me redaktore Arta Markun.',
    book3Title: 'Aria Fet e fet',
    book3Author: 'nga Valbona Banka',
    book3Desc: 'Le të udhëtojmë edhe ne me Arian dhe personazhet e tjera, mes situatave të papritura dhe humorit, për të shijuar këtë përvojë.',
    book4Title: 'Aria Në dorën time',
    book4Author: 'nga Valbona Banka',
    book4Desc: 'Një aventurë epike që çon lexuesit në një udhëtim përtej kontinenteve dhe nëpër kohë. Ky roman historik sjell të kaluarën në jetë me detaje të gjalla.',
    book5Title: 'Yjet e Natës',
    book5Author: 'nga Valbona Banka',
    book5Desc: 'Një udhëtim magjepsës nëpër botën e fantazisë, ku ëndrrat dhe realiteti ndërthuren në mënyrë të pabesueshme.',
    book6Title: 'Fjalët që Shërojnë',
    book6Author: 'nga Valbona Banka',
    book6Desc: 'Një përmbledhje tregimesh që prekin zemrën dhe frymëzojnë shpirtin, duke sjellë shpresë dhe forcë në çdo faqe.',
    book7Title: 'Rrugëtimi i Zemrës',
    book7Author: 'nga Valbona Banka',
    book7Desc: 'Një roman emocionues për dashurinë, humbjen dhe gjetjen e vetvetes nëpërmjet sfidave të jetës.',
  }
};

const langToggle = document.getElementById('lang-toggle');
const themeToggle = document.getElementById('theme-toggle');
const themeIcon = document.getElementById('theme-icon');

function setLanguage(lang) {
  document.documentElement.lang = lang === 'sq' ? 'sq' : 'en';
  localStorage.setItem('lang', lang);
  langToggle && (langToggle.textContent = lang === 'sq' ? 'EN' : 'SQ');
  // Update all elements with data-i18n
  document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.getAttribute('data-i18n');
    if (translations[lang][key]) {
      el.textContent = translations[lang][key];
    }
  });
  // About section paragraphs (main page only)
  const aboutPs = document.querySelectorAll('.about-section p');
  if (aboutPs.length === 4 && translations[lang].about1) {
    aboutPs[0].textContent = translations[lang].about1;
    aboutPs[1].textContent = translations[lang].about2;
    aboutPs[2].textContent = translations[lang].about3;
    aboutPs[3].textContent = translations[lang].about4;
  }
  const heroTitle = document.querySelector('.hero h1');
  if (heroTitle && translations[lang].heroTitle) heroTitle.textContent = translations[lang].heroTitle;
  const heroSub = document.querySelector('.hero-subtext');
  if (heroSub && translations[lang].heroSubtext) heroSub.textContent = translations[lang].heroSubtext;
  const featured = document.querySelector('.book-info h2');
  if (featured && translations[lang].featured) featured.textContent = translations[lang].featured;
  const seeMore = document.querySelector('.portfolio-link');
  if (seeMore && translations[lang].seeMore) seeMore.textContent = translations[lang].seeMore;
  const galleryTitle = document.querySelector('.gallery-title');
  if (galleryTitle && translations[lang].galleryTitle) galleryTitle.textContent = translations[lang].galleryTitle;
  document.querySelectorAll('.learn-more-btn').forEach(btn => {
    if (translations[lang].learnMore && btn.hasAttribute('data-i18n')) {
      btn.textContent = translations[lang].learnMore;
    }
  });
  for (let i = 1; i <= 7; i++) {
    const title = document.querySelector(`[data-i18n="book${i}Title"]`);
    if (title && translations[lang][`book${i}Title`]) title.textContent = translations[lang][`book${i}Title`];
    const author = document.querySelector(`[data-i18n="book${i}Author"]`);
    if (author && translations[lang][`book${i}Author`]) author.textContent = translations[lang][`book${i}Author`];
    const desc = document.querySelector(`[data-i18n="book${i}Desc"]`);
    if (desc && translations[lang][`book${i}Desc`]) desc.textContent = translations[lang][`book${i}Desc`];
  }
  const backBtn = document.querySelector('.learn-more-btn[data-i18n="backToGallery"]');
  if (backBtn && translations[lang].backToGallery) backBtn.textContent = translations[lang].backToGallery;
}

function setTheme(theme) {
  if (theme === 'light') {
    document.body.classList.add('light-theme');
    themeIcon.textContent = '☀️';
  } else {
    document.body.classList.remove('light-theme');
    themeIcon.textContent = '🌙';
  }
  localStorage.setItem('theme', theme);
}

langToggle?.addEventListener('click', () => {
  const current = localStorage.getItem('lang') || 'sq';
  setLanguage(current === 'sq' ? 'en' : 'sq');
});

themeToggle?.addEventListener('click', () => {
  const current = localStorage.getItem('theme') || 'dark';
  setTheme(current === 'dark' ? 'light' : 'dark');
});

setLanguage(localStorage.getItem('lang') || 'sq');
setTheme(localStorage.getItem('theme') || 'dark'); 